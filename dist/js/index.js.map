{"version":3,"sources":["../../lib/novel-support.js"],"names":[],"mappings":"sEAKA,GAAM,cAAe,QAAf,aAAe,CAAC,IAAD,CAAiC,IAA1B,aAA0B,2DAAX,MAAW,CACpD,GAAM,SAAU,6BAAhB,CACA,GAAM,UAAW,4BAAjB,CACA,GAAM,cAAe,yCAArB,CACA,QAAQ,GAAR,4FAA2C,YAA3C,iBAEA,GAAI,WAAJ,CACA,GAAI,mBAAJ,CACA,GAAI,eAAiB,MAArB,CAA6B,CAC3B,IAAM,SAAS,cAAT,CAAwB,IAAxB,EAA8B,WAApC,CACA,YAAc,IAAI,OAAJ,CAAY,cAAZ,CAA4B,OAA5B,EACI,OADJ,CACY,oBADZ,CACkC,QADlC,EAEI,OAFJ,CAEY,YAFZ,CAE0B,YAF1B,CAAd,CAGD,CALD,IAMK,IAAG,eAAiB,MAApB,CAA4B,CAC/B,IAAM,SAAS,cAAT,CAAwB,IAAxB,EAA8B,SAApC,CACA,YAAc,IAAI,OAAJ,CAAY,oBAAZ,CAAkC,QAAlC,EACI,OADJ,CACY,YADZ,CAC0B,YAD1B,CAAd,CAED,CACD,GAAM,KAAM,cAAZ,CACA,QAAQ,GAAR,CAAY,IAAI,KAAJ,CAAU,GAAV,CAAZ,EACA,SAAS,cAAT,CAAwB,IAAxB,EAA8B,SAA9B,CAA0C,WAA1C,CACD,CAtBD,C,QAwBQ,Y,CAAA,Y","file":"index.js","sourcesContent":["/**\r\n * 小説投稿サイトで記述した文章をelemで指定したタグ内に入れることで、小説投稿サイトと同じように表示することができる関数式です。contentStyleにはデフォルトでtextが代入されており、第二引数にhtmlと記述することでHTML形式でコンテンツを取得できます。\r\n * @param {string} elem \r\n * @param {string} contentStyle \r\n */\r\nconst novelSupport = (elem, contentStyle = 'text') => {\r\n  const txtBase = '<p class=\"ns_indent\">$1</p>';\r\n  const rubyBase = '<ruby>$1<rt>$2</rt></ruby>';\r\n  const emphasisBase = '<strong class=\"ns_emphasis\">$1</strong>';\r\n  console.log(`現在のnovel-support.jsのコンテンツ変換は${contentStyle}です`);\r\n  \r\n  let obj;\r\n  let replaceBody;\r\n  if (contentStyle === 'text') {\r\n    obj = document.getElementById(elem).textContent;\r\n    replaceBody = obj.replace(/(.+?)[\\n\\r]/g, txtBase) //改行検知pタグ挿入\r\n                     .replace(/[\\|｜](.+?)《(.+?)》/g, rubyBase) //ルビ変換\r\n                     .replace(/《《(.+?)》》/g, emphasisBase); //圏点変換\r\n  }\r\n  else if(contentStyle === 'html') {\r\n    obj = document.getElementById(elem).innerHTML;\r\n    replaceBody = obj.replace(/[\\|｜](.+?)《(.+?)》/g, rubyBase) //ルビ変換\r\n                     .replace(/《《(.+?)》》/g, emphasisBase); //圏点変換\r\n  }\r\n  const reg = /(.+?)[\\n\\r]/g;\r\n  console.log(obj.match(reg));\r\n  document.getElementById(elem).innerHTML = replaceBody;\r\n}\r\n\r\nexport {novelSupport};"]}